{"version":3,"file":"js/749aaef034ff465bcbb6.bundle.js","mappings":"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","sources":["webpack://codergb-hub-client/./src/network/later/index.tsx","webpack://codergb-hub-client/./src/views/playlist/style.tsx","webpack://codergb-hub-client/./src/views/playlist/index.tsx"],"sourcesContent":["import gbRequest from '../index';\nimport { type IResponseType } from '../../types/responseType';\n\nexport async function getUserLater<T = IResponseType<any>>(\n  userId: string,\n  offset: number,\n  limit: number\n): Promise<T> {\n  return await gbRequest.get<T>({\n    url: '/later/user/' + userId,\n    params: {\n      offset,\n      limit\n    }\n  });\n}\n// 添加至稍后观看\nexport async function addLater<T = IResponseType<any>>(id: string) {\n  return await gbRequest.post<T>({\n    url: '/later/' + id\n  });\n}\n","import styled from 'styled-components';\nexport const PlaylistWrapper = styled.div`\n  display: flex;\n  align-items: flex-start;\n`;\nexport const LeftContainer: any = styled.div`\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  padding: ${30 / 40}rem ${30 / 40}rem;\n  height: 86vh;\n  background-image: url(${(props) => (props as any).bgc});\n  background-repeat: no-repeat;\n  background-size: auto 9999px;\n  background-position: center;\n  border-radius: ${16 / 40}rem;\n  overflow: hidden;\n  .mask {\n    position: absolute;\n    background-color: black;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    background-color: rgba(0, 0, 0, 0.08);\n  }\n  .img-container {\n    width: ${450 / 40}rem;\n    border-radius: ${16 / 40}rem;\n    overflow: hidden;\n    img {\n      width: 100%;\n    }\n  }\n  .later-label {\n    font-size: ${30 / 40}rem;\n    color: #fff;\n    font-weight: bolder;\n    margin: ${28 / 40}rem 0 0 0;\n  }\n  .user-name {\n    font-size: ${18 / 40}rem;\n    color: #fff;\n    margin: ${20 / 40}rem 0 ${18 / 40}rem 0;\n  }\n  .vio-info {\n    display: flex;\n    align-items: center;\n    .vio-count {\n      font-size: ${16 / 40}rem;\n      color: #d2cfd0;\n    }\n    .update-time {\n      margin: 0 0 0 ${10 / 40}rem;\n      font-size: ${16 / 40}rem;\n      color: #d2cfd0;\n    }\n  }\n`;\nexport const RightContainer = styled.div`\n  margin: 0 0 0 ${30 / 40}rem;\n  width: 70%;\n  height: 86vh;\n  overflow-y: scroll;\n  .vio-list {\n    & > li {\n      display: flex;\n      align-items: flex-start;\n      cursor: pointer;\n      padding: ${20 / 40}rem 0 ${20 / 40}rem ${18 / 40}rem;\n      border-radius: ${8 / 40}rem;\n      &:hover {\n        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n      }\n      .cover-container {\n        margin: 0 ${24 / 20}rem 0 0;\n        width: ${200 / 40}rem;\n        img {\n          width: 100%;\n          border-radius: 8px;\n        }\n      }\n      .later-right-info {\n        width: 70%;\n        .desc {\n          display: flex;\n          align-items: center;\n          margin: ${16 / 40}rem 0 0 0;\n          .user-name,\n          .play-count,\n          .create-time {\n            font-size: ${16 / 40}rem;\n            color: #606060;\n          }\n          .play-count {\n            margin: 0 ${8 / 40}rem;\n          }\n        }\n      }\n    }\n  }\n`;\n","import React, { memo, type FC, type ReactElement, useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { type Map } from 'immutable';\nimport moment from 'moment';\nimport { PlaylistWrapper, LeftContainer, RightContainer } from './style';\nimport { type ILater } from '../../types/later/ILater';\nimport { getUserLater } from '../../network/later';\nimport { type IResponseType } from '../../types/responseType';\nimport { type IPage } from '../../types/IPage';\nimport { useSelector } from 'react-redux';\nimport { type ILogin } from '../../types/login/ILogin';\nimport { type IVideo } from '../../types/video/IVideo';\nconst Playlist: FC = (): ReactElement => {\n  const [userLater, setUserLater] = useState<ILater[]>([]);\n  const [count, setCount] = useState<number>(0);\n  const login = useSelector<Map<string, ILogin>, ILogin>((state) => {\n    return state.getIn(['loginReducer', 'login']) as ILogin;\n  });\n  const navigate = useNavigate();\n  const getUserLaterReq = async (userId: string, offset: number, limit: number) => {\n    const result = await getUserLater<IResponseType<IPage<ILater[]>>>(userId, offset, limit);\n    if (result.status === 200) {\n      setUserLater(result.data.list);\n      setCount(result.data.count);\n    }\n  };\n  useEffect(() => {\n    getUserLaterReq(login.userMsg.userId, 0, 10).then((r) => {});\n  }, []);\n\n  const videoRouterHandle = (item: IVideo) => {\n    navigate('/videoDetail', {\n      replace: true,\n      state: {\n        id: item.id\n      }\n    });\n  };\n  return (\n    <PlaylistWrapper>\n      {userLater && userLater.length !== 0 && (\n        <LeftContainer bgc={userLater[0]?.video?.picUrl}>\n          <div className=\"img-container\">\n            {userLater && userLater[0] && <img src={userLater[0].video.picUrl} />}\n          </div>\n          <p className=\"later-label\">稍后观看</p>\n          <p className=\"user-name\">{login.userMsg.userName}</p>\n          <div className=\"vio-info\">\n            <div className=\"vio-count\">{count}个视频</div>\n            <div className=\"update-time\">昨日更新</div>\n          </div>\n          <div className=\"mask\"></div>\n        </LeftContainer>\n      )}\n      <RightContainer>\n        <ul className=\"vio-list\">\n          {userLater &&\n            userLater.length !== 0 &&\n            userLater.map((item) => {\n              return (\n                <li key={item.id}>\n                  <div\n                    className=\"cover-container\"\n                    onClick={(e) => {\n                      videoRouterHandle(item.video);\n                    }}\n                  >\n                    <img src={item.video.picUrl} />\n                  </div>\n                  <div className=\"later-right-info\">\n                    <p\n                      className=\"vio-name text-nowrap-mul-line\"\n                      onClick={(e) => {\n                        videoRouterHandle(item.video);\n                      }}\n                    >\n                      {item.video.name}\n                    </p>\n                    <div className=\"desc\">\n                      <div className=\"user-name\">{item.video.user.userName}.</div>\n                      <div className=\"play-count\">{item.video.playCount}次观看.</div>\n                      <div className=\"create-time\">{moment(item.createTime).fromNow()}加入</div>\n                    </div>\n                  </div>\n                </li>\n              );\n            })}\n        </ul>\n      </RightContainer>\n    </PlaylistWrapper>\n  );\n};\nexport default memo(Playlist);\n"],"names":["gbRequest","getUserLater","userId","offset","limit","get","url","params","addLater","id","post","styled","PlaylistWrapper","div","LeftContainer","props","bgc","RightContainer","React","memo","useState","useEffect","useNavigate","moment","useSelector","Playlist","userLater","setUserLater","count","setCount","login","state","getIn","navigate","getUserLaterReq","result","status","data","list","userMsg","then","r","videoRouterHandle","item","replace","createElement","length","video","picUrl","className","src","userName","map","key","onClick","e","name","user","playCount","createTime","fromNow"],"sourceRoot":""}