"use strict";(self.webpackChunkcodergb_hub_client=self.webpackChunkcodergb_hub_client||[]).push([[9599],{19675:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(1413),a=r(67294),c={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},l=r(30076),o=function(e,t){return a.createElement(l.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:c}))};o.displayName="CaretDownOutlined";var i=a.forwardRef(o)},28612:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(1413),a=r(67294),c={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},l=r(30076),o=function(e,t){return a.createElement(l.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:c}))};o.displayName="CaretUpOutlined";var i=a.forwardRef(o)},6073:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(1413),a=r(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H273v428h.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM112 132v364c0 17.7 14.3 32 32 32h65V100h-65c-17.7 0-32 14.3-32 32z"}}]},name:"dislike",theme:"filled"},l=r(30076),o=function(e,t){return a.createElement(l.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:c}))};o.displayName="DislikeFilled";var i=a.forwardRef(o)},81825:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(1413),a=r(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81zm627.2 160.4H496.8l9.6 198.4c.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7a44.28 44.28 0 01-42.2-32.3L329 459.2V172h415.4a56.85 56.85 0 0133.6 51.8c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19a56.76 56.76 0 0119.6 43c0 19.1-11 37.5-28.8 48.4z"}}]},name:"dislike",theme:"outlined"},l=r(30076),o=function(e,t){return a.createElement(l.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:c}))};o.displayName="DislikeOutlined";var i=a.forwardRef(o)},80177:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(1413),a=r(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311h-.3v428h472.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32z"}}]},name:"like",theme:"filled"},l=r(30076),o=function(e,t){return a.createElement(l.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:c}))};o.displayName="LikeFilled";var i=a.forwardRef(o)},58812:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(1413),a=r(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81zm636.4-353l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4a56.2 56.2 0 016.9 27.3c0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5a44.1 44.1 0 0142.2-32.3c7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z"}}]},name:"like",theme:"outlined"},l=r(30076),o=function(e,t){return a.createElement(l.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:c}))};o.displayName="LikeOutlined";var i=a.forwardRef(o)},14277:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(4942),a=r(87462),c=r(93967),l=r.n(c),o=r(67294),i=r(53124),s=r(42051),u=function(){var e=(0,o.useContext(i.E_).getPrefixCls)("empty-img-default");return o.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("g",{transform:"translate(24 31.67)"},o.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),o.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),o.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),o.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),o.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),o.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),o.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},o.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),o.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},m=function(){var e=(0,o.useContext(i.E_).getPrefixCls)("empty-img-simple");return o.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},o.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),o.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},o.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),o.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},d=o.createElement(u,null),h=o.createElement(m,null),g=function(e){var t=e.className,r=e.prefixCls,c=e.image,u=void 0===c?d:c,m=e.description,g=e.children,v=e.imageStyle,p=f(e,["className","prefixCls","image","description","children","imageStyle"]),w=o.useContext(i.E_),E=w.getPrefixCls,y=w.direction;return o.createElement(s.Z,{componentName:"Empty"},(function(e){var c,i=E("empty",r),s=void 0!==m?m:e.description,f="string"==typeof s?s:"empty",d=null;return d="string"==typeof u?o.createElement("img",{alt:f,src:u}):u,o.createElement("div",(0,a.Z)({className:l()(i,(c={},(0,n.Z)(c,"".concat(i,"-normal"),u===h),(0,n.Z)(c,"".concat(i,"-rtl"),"rtl"===y),c),t)},p),o.createElement("div",{className:"".concat(i,"-image"),style:v},d),s&&o.createElement("div",{className:"".concat(i,"-description")},s),g&&o.createElement("div",{className:"".concat(i,"-footer")},g))}))};g.PRESENTED_IMAGE_DEFAULT=d,g.PRESENTED_IMAGE_SIMPLE=h;var v=g},54841:function(e,t,r){r.d(t,{y:function(){return a}});var n=r(95998);const a=()=>(0,n.v9)((e=>e.getIn(["loginReducer","login"])))},49028:function(e,t,r){r.d(t,{$x:function(){return a},Ay:function(){return E},EL:function(){return u},Ek:function(){return v},Fx:function(){return d},Mo:function(){return m},N$:function(){return l},O2:function(){return i},Ty:function(){return c},_M:function(){return h},b0:function(){return y},dd:function(){return g},fY:function(){return o},hk:function(){return w},lq:function(){return f},qI:function(){return p},sf:function(){return s}});var n=r(74283);async function a(e){return await n.Z.post({url:"/video/upload",data:e,headers:{"Content-type":"multipart/form-data"}})}async function c(e,t,r,a,c,l,o,i){return await n.Z.post({url:"/video/create",data:{videoId:e,title:t,desc:r,imgId:a,playlistId:c,tagIds:l,cateId:o,dt:i}})}async function l(e,t,r){return await n.Z.post({url:"/video/all",params:{offset:e,limit:t},data:{keyword:r}})}async function o(e){return await n.Z.get({url:`/video/url/${e}`})}async function i(e){return await n.Z.post({url:`/video/detail/${e}`})}async function s(e,t,r,a){return await n.Z.post({url:`/user/video/${e}`,params:{offset:r,limit:a},data:{keyword:t}})}async function u(e,t,r,a){return await n.Z.post({url:`/user/video/hot/${e}`,params:{offset:r,limit:a},data:{keyword:t}})}async function m(e,t,r,a){return await n.Z.post({url:`/video/sub/user/${e}`,params:{offset:t,limit:r},data:{isMonth:a}})}async function f(e,t,r){return await n.Z.post({url:"/video/thumb/user/"+e,params:{offset:t,limit:r}})}async function d(e,t,r){return await n.Z.post({url:"/video/similar/"+e,params:{offset:t,limit:r}})}async function h(e,t,r){return await n.Z.post({url:"/video/collection/"+e,params:{offset:t,limit:r}})}async function g(e){return await n.Z.post({url:"/record/"+e})}async function v(e){return await n.Z.get({url:"/record/user/"+e})}async function p(e){return await n.Z.get({url:"/record/thumb/"+e})}async function w(e){return await n.Z.post({url:"video/playCount/"+e})}async function E(){return await n.Z.get({url:"/video/carousel/all"})}async function y(e,t,r){return await n.Z.post({url:"/video/cate/"+e,params:{offset:t,limit:r}})}},95193:function(e,t,r){r.r(t),r.d(t,{default:function(){return H}});var n=r(67294),a=r(89250),c=r(95998),l=r(53133);const o=l.ZP.div`
  display: flex;
  align-items: flex-end;
  .container {
    height: 87vh;
    width: ${12.5}rem;
    background-color: #333;
    position: relative;
    img {
      width: 100%;
      height: 100%;
      vertical-align: bottom;
    }
    .bottom-level {
      width: 100%;
      top: 100%;
      left: 0;
      position: absolute;
      transform: translate(0, -100%);
      padding: ${.4}rem ${.45}rem;
      background: linear-gradient(to top, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.1));
      .user {
        display: flex;
        align-items: center;
        .img-container {
          width: ${1.5}rem;
          img {
            width: 100%;
            border-radius: 100%;
          }
        }
        .user-name {
          font-size: ${.45}rem;
          color: #fff;
          margin: 0 0 0 10px;
        }
      }
      .title {
        font-size: ${.45}rem;
        color: #fff;
        margin: 10px 0 0 0;
      }
    }
  }
  .control {
    margin: 0 0 0 ${.5}rem;
    .control-list {
      & > li {
        margin: 0 0 ${.75}rem 0;
        display: flex;
        align-items: center;
        flex-direction: column;

        .icon {
          display: flex;
          align-items: center;
          justify-content: center;
          background-color: #f2f2f2;
          width: ${1.5}rem;
          height: ${1.5}rem;
          border-radius: 50%;
          margin: 0 0 ${.25}rem 0;
          cursor: pointer;
          .thumb-icon {
            svg {
              font-size: ${.65}rem;
            }
            &.thumb-active {
              svg {
                color: #ea3323;
              }
            }
          }
          .un-thumb-icon {
            svg {
              font-size: ${.65}rem;
            }
            &.un-thumb-active {
              svg {
                color: #ea3323;
              }
            }
          }
          .msg-icon {
            svg {
              font-size: ${.65}rem;
            }
          }
        }
      }
    }
    &.move-control {
      transform: translateX(-170%);
      z-index: 99999;
      .label {
        color: #fff;
      }
      .item {
        .icon {
          background-color: rgba(0, 0, 0, 0.1);
        }
      }
      .thumb-icon,
      .un-thumb-icon,
      .msg-icon {
        color: #fff;
      }
    }
  }
  .comment-container {
    height: 87vh;
    width: 0;
    overflow-y: scroll;
    padding: 0;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    border-radius: 4px;
    transition:
      width 0.5s,
      opacity 0.3s;
    transform-origin: left;
    background-color: #fff;
    z-index: 9;
    opacity: 0;

    &.show-comment {
      transform: rotateY(0);
      width: ${15}rem;
      padding: ${.75}rem;
      opacity: 1;
      overflow: hidden;
      margin-left: -60px;
      overflow-y: scroll;
    }
    .close-handler {
      display: flex;
      width: 100%;
      justify-content: flex-end;
      .close-outlined {
        cursor: pointer;
      }
    }
  }
  .outer {
    height: 87vh;
    overflow-y: scroll;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    z-index: 99999;
    .inner {
      display: flex;
      align-items: flex-end;
    }
  }
`;var i=r(80177),s=r(6073),u=r(1413),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.3 338.4a447.57 447.57 0 00-96.1-143.3 443.09 443.09 0 00-143-96.3A443.91 443.91 0 00512 64h-2c-60.5.3-119 12.3-174.1 35.9a444.08 444.08 0 00-141.7 96.5 445 445 0 00-95 142.8A449.89 449.89 0 0065 514.1c.3 69.4 16.9 138.3 47.9 199.9v152c0 25.4 20.6 46 45.9 46h151.8a447.72 447.72 0 00199.5 48h2.1c59.8 0 117.7-11.6 172.3-34.3A443.2 443.2 0 00827 830.5c41.2-40.9 73.6-88.7 96.3-142 23.5-55.2 35.5-113.9 35.8-174.5.2-60.9-11.6-120-34.8-175.6zM312.4 560c-26.4 0-47.9-21.5-47.9-48s21.5-48 47.9-48 47.9 21.5 47.9 48-21.4 48-47.9 48zm199.6 0c-26.4 0-47.9-21.5-47.9-48s21.5-48 47.9-48 47.9 21.5 47.9 48-21.5 48-47.9 48zm199.6 0c-26.4 0-47.9-21.5-47.9-48s21.5-48 47.9-48 47.9 21.5 47.9 48-21.5 48-47.9 48z"}}]},name:"message",theme:"filled"},f=r(30076),d=function(e,t){return n.createElement(f.Z,(0,u.Z)((0,u.Z)({},e),{},{ref:t,icon:m}))};d.displayName="MessageFilled";var h=n.forwardRef(d),g=r(54549),v=r(8069),p=r(56132),w=r(54841),E=r(85965),y=r(20494);const b=(0,n.forwardRef)(((e,t)=>{const{video:r}=e,l=(0,w.y)(),u=(0,a.s0)(),m=(0,E.K)("video",r.id),f=(0,E.Q)("video",r.id),d=(0,c.I0)(),[b,N]=(0,n.useState)(!1),Z=()=>{N(!1)};(0,n.useImperativeHandle)(t,(()=>({changeShow:Z})));const x=(0,n.useRef)(null);return n.createElement(o,null,n.createElement("div",{className:"container"},n.createElement("img",{src:r.picUrl}),n.createElement("div",{className:"top-level"}),n.createElement("div",{className:"bottom-level"},n.createElement("div",{className:"user"},n.createElement("div",{className:"img-container",onClick:()=>{r&&u("/home/userDetail",{state:{userId:r.user.userId}})}},n.createElement("img",{src:r.user.avatarUrl})),n.createElement("div",{className:"user-name"},r.user.userName)),n.createElement("div",{className:"title"},r.name))),n.createElement("div",{className:"control "+(b?"move-control":"")},n.createElement("ul",{className:"control-list"},n.createElement("li",{className:"item"},n.createElement("div",{className:"icon",onClick:async()=>{await(async()=>{if(r){if(m){const e=await(0,y.NZ)(r.id,"vId");200===e.status&&console.log(e.data)}else{const e=await(0,y.Nb)(r.id,"vId");200===e.status&&console.log(e.data)}l&&l.userMsg&&d((0,v.ZN)(l.userMsg.userId))}})()}},n.createElement(i.Z,{className:"thumb-icon "+(m?"thumb-active":"")})),n.createElement("div",{className:"label"},"134万")),n.createElement("li",{className:"item"},n.createElement("div",{className:"icon",onClick:async()=>{await(async()=>{if(r){if(f){const e=await(0,y._0)(r.id,"vId");200===e.status&&console.log(e.data)}else{const e=await(0,y.RM)(r.id,"vId");200===e.status&&console.log(e.data)}l&&l.userMsg&&d((0,v.ZN)(l.userMsg.userId))}})()}},n.createElement(s.Z,{className:"un-thumb-icon "+(f?"un-thumb-active":"")})),n.createElement("div",{className:"label"},"踩")),n.createElement("li",{className:"item"},n.createElement("div",{className:"icon",onClick:()=>{N(!0)}},n.createElement(h,{className:"msg-icon"})),n.createElement("div",{className:"label"},"1233")))),n.createElement("div",{className:"comment-container "+(b?"show-comment":""),ref:x},n.createElement("div",{className:"close-handler"},n.createElement(g.Z,{className:"close-outlined",onClick:()=>{N(!1)}})),r&&n.createElement(p.Z,{alias:"vId",id:r.id,user:l.userMsg})))}));var N=(0,n.memo)(b),Z=r(93041);const x=l.ZP.div`
  .box {
    display: flex;
    flex-direction: column;
    align-items: center;
    .outer {
      height: 87vh;
      overflow-y: scroll;
      &::-webkit-scrollbar {
        width: 0px;
      }
      scrollbar-width: none;

      .g-video-container {
        position: absolute;
        left: 0;
        top: 0;
        width: ${12.5}rem;
        height: 87vh;
        z-index: 999;
        video {
          width: 100%;
          height: 100%;
          background-color: rgba(255, 255, 255, 0);
          object-fit: contain;
        }
      }
    }
    .box-inner {
      position: relative;
    }
    .scroll-container {
      height: 87vh;
      width: ${12.5}rem;

      position: absolute;
      z-index: 99999999;
      left: 0;
      top: 0;
      overflow-y: scroll;
      opacity: 0;
      .scroll-inner {
        width: 100%;
        height: 130%;
      }
    }
  }
`;var z=r(49028);const M=()=>{const[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(0),c=(0,n.useRef)(!1),l=(0,n.useRef)(1),[o,i]=(0,n.useState)(""),s=(0,n.useRef)(0),u=(0,n.useRef)(3),[m,f]=(0,n.useState)(""),[d,h]=(0,n.useState)(null),g=async(e,r)=>{if(!c.current){const n=await(0,z.N$)(e,r,"");200===n.status&&(t(n.data.list),a(n.data.count))}};(0,n.useEffect)((()=>{g(0,3)}),[]),(0,n.useEffect)((()=>{0!==e.length&&(0===s.current?h(e[0]):h(e[1]))}),[e]),(0,n.useEffect)((()=>{d&&(0,z.fY)(d.id).then((e=>{if(200===e.status){let t=e.data.vioUrl;0,f(t)}}))}),[d]);const v=(0,n.useRef)(null),p=(0,n.useRef)(null),w=(0,n.useRef)(null);(0,n.useEffect)((()=>{if(w.current)if(Z.ZP.isSupported()){const e=new Z.ZP;e.loadSource(m),e.attachMedia(w.current)}else w.current.canPlayType("application/vnd.apple.mpegurl")&&(w.current.src=m)}),[w.current,m]);const E=(0,n.useRef)(null),y=(0,n.useRef)({changeShow:()=>{}}),b=()=>{const e=()=>{requestAnimationFrame((()=>{if(0===v.current.scrollTop){const e=E.current.scrollHeight,t=E.current.clientHeight;E.current.scrollTop=(e-t)/2,i(""),(async()=>{console.log("down"),s.current-=1,s.current<=0&&(s.current=0),await g(s.current,3),setTimeout((()=>{0!==s.current&&(v.current.scrollTop=p.current.offsetHeight)}),0)})(),l.current=1,setTimeout((()=>{E.current.g_flag=!0}),500)}else if(v.current.scrollTop>p.current.offsetHeight*(l.current-2))v.current.scrollTop-=20,f(""),y.current.changeShow(),e();else{v.current.scrollTop=p.current.offsetHeight*(l.current-2),l.current<=0?l.current=0:l.current-=1;const e=E.current.scrollHeight,t=E.current.clientHeight;E.current.scrollTop=(e-t)/2,i(""),setTimeout((()=>{E.current.g_flag=!0}),500)}}))};e()},M=()=>{const t=()=>{requestAnimationFrame((()=>{if(v.current.scrollTop<p.current.offsetHeight*l.current){const e=v.current.scrollTop;if(v.current.scrollTop=e+v.current.offsetHeight/33,f(""),y.current.changeShow(),e===v.current.scrollTop){v.current.scrollTop=p.current.offsetHeight*l.current,l.current=2;const e=E.current.scrollHeight,t=E.current.offsetHeight;E.current.scrollTop=(e-t)/2,(async()=>{console.log("up"),s.current+=1,await g(s.current,3)})(),i(""),setTimeout((()=>{E.current.g_flag=!0}),500)}else t()}else{v.current.scrollTop=p.current.offsetHeight*l.current,l.current<u.current&&(l.current+=1);const t=E.current.scrollHeight,r=E.current.offsetHeight;E.current.scrollTop=(t-r)/2,i(""),0===s.current&&h(e[1]),setTimeout((()=>{E.current.g_flag=!0}),500)}}))};t()};(0,n.useEffect)((()=>{"向上"===o?M():"向下"===o&&b()}),[o]);let H=0;return(0,n.useEffect)((()=>{if(E.current){E.current.g_flag=!0;const e=e=>{const t=(new Date).getTime();t-H>40&&E.current.g_flag&&(E.current.g_flag=!1,e.deltaY>0?i("向上"):i("向下")),H=t};E.current.onmouseover=function(t){window.addEventListener("wheel",e)},E.current.onmouseleave=function(t){window.removeEventListener("wheel",e)}}}),[E,E.current]),n.createElement(x,null,n.createElement("div",{className:"box"},n.createElement("div",{className:"box-inner"},n.createElement("div",{className:"scroll-container",ref:E},n.createElement("div",{className:"scroll-inner"})),n.createElement("div",{className:"outer",ref:v},n.createElement("div",{className:"inner"},n.createElement("ul",{className:"short-video-list"},e&&0!==e.length&&e.map(((e,t)=>n.createElement("li",{key:e.id,className:"item",ref:0===t?p:null},n.createElement(N,{video:e,ref:y}),n.createElement("div",{className:"g-video-container"},m&&0===t&&n.createElement("video",{ref:w,src:m,autoPlay:!0})))))))))))};var H=(0,n.memo)(M)}}]);
//# sourceMappingURL=9599.f035eb57.chunk.js.map