"use strict";(self.webpackChunkcodergb_hub_client=self.webpackChunkcodergb_hub_client||[]).push([[7933],{60331:function(e,t,n){n.d(t,{Z:function(){return C}});var a=n(4942),r=n(87462),c=n(29439),o=n(54549),l=n(93967),s=n.n(l),i=n(98423),u=n(67294),m=n(53124),p=n(98787),d=n(21790),f=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},g=function(e){var t,n=e.prefixCls,c=e.className,o=e.checked,l=e.onChange,i=e.onClick,p=f(e,["prefixCls","className","checked","onChange","onClick"]),d=(0,u.useContext(m.E_).getPrefixCls)("tag",n),g=s()(d,(t={},(0,a.Z)(t,"".concat(d,"-checkable"),!0),(0,a.Z)(t,"".concat(d,"-checkable-checked"),o),t),c);return u.createElement("span",(0,r.Z)({},p,{className:g,onClick:function(e){null==l||l(!o),null==i||i(e)}}))},b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},h=new RegExp("^(".concat(p.Y.join("|"),")(-inverse)?$")),y=new RegExp("^(".concat(p.E.join("|"),")$")),v=function(e,t){var n,l=e.prefixCls,p=e.className,f=e.style,g=e.children,v=e.icon,E=e.color,C=e.onClose,w=e.closeIcon,x=e.closable,N=void 0!==x&&x,Z=b(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),k=u.useContext(m.E_),O=k.getPrefixCls,I=k.direction,P=u.useState(!0),S=(0,c.Z)(P,2),j=S[0],R=S[1];u.useEffect((function(){"visible"in Z&&R(Z.visible)}),[Z.visible]);var T=function(){return!!E&&(h.test(E)||y.test(E))},_=(0,r.Z)({backgroundColor:E&&!T()?E:void 0},f),D=T(),M=O("tag",l),$=s()(M,(n={},(0,a.Z)(n,"".concat(M,"-").concat(E),D),(0,a.Z)(n,"".concat(M,"-has-color"),E&&!D),(0,a.Z)(n,"".concat(M,"-hidden"),!j),(0,a.Z)(n,"".concat(M,"-rtl"),"rtl"===I),n),p),H=function(e){e.stopPropagation(),null==C||C(e),e.defaultPrevented||"visible"in Z||R(!1)},z="onClick"in Z||g&&"a"===g.type,F=(0,i.Z)(Z,["visible"]),K=v||null,Y=K?u.createElement(u.Fragment,null,K,u.createElement("span",null,g)):g,q=u.createElement("span",(0,r.Z)({},F,{ref:t,className:$,style:_}),Y,N?w?u.createElement("span",{className:"".concat(M,"-close-icon"),onClick:H},w):u.createElement(o.Z,{className:"".concat(M,"-close-icon"),onClick:H}):null);return z?u.createElement(d.Z,null,q):q},E=u.forwardRef(v);E.CheckableTag=g;var C=E},77933:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var a=n(67294),r=n(89250),c=n(94746),o=n(53133);const l=o.ZP.div``,s=o.ZP.div`
  width: ${10}rem;
  .user-name {
    cursor: pointer;
    color: #6080ae;
    margin: 0 2px;
  }
  .info {
    font-weight: bolder;
    margin: 0 2px;
    width: 100%;
    cursor: pointer;
  }
`;var i=n(95998),u=n(74283);async function m(e,t,n){return await u.Z.get({url:"/notify/all/"+e,params:{offset:t,limit:n}})}var p=n(60331),d=n(30381),f=n.n(d);const g=()=>{const[e,t]=(0,a.useState)("checkbox"),[n,o]=(0,a.useState)([]),[u,d]=(0,a.useState)(0),g=((0,r.s0)(),(0,i.v9)((e=>e.getIn(["loginReducer","login"]))));(0,a.useEffect)((()=>{m(g.userMsg.userId,0,6).then((e=>{200===e.status&&(o(e.data.list),d(e.data.count))}))}),[]);const b={onChange:(e,t)=>{console.log("selectedRows: ",t)}};return a.createElement(l,null,n&&0!==n.length&&a.createElement(c.Z,{rowSelection:{type:e,...b},rowKey:"id",columns:[{title:"内容",dataIndex:"name",width:"100",render:(e,t)=>a.createElement(s,null,"sub"===t.type&&a.createElement("span",{className:"user-name"},t.operation.userName,"关注了你"),"upload"===t.type&&a.createElement("span",null,"您关注的",a.createElement("span",{className:"user-name"},t.operation.userName),"发布了视频",a.createElement("span",{className:"info"},t.video?.name)),"thumb-vId"===t.type&&a.createElement("span",null,a.createElement("span",{className:"user-name"},t.operation.userName),"点赞了您的视频",a.createElement("span",{className:"info"},t.video?.name)),"thumb-commentId"===t.type&&a.createElement("span",null,a.createElement("span",{className:"user-name"},t.operation.userName),"点赞了您的评论",a.createElement("span",{className:"info text-nowrap-mul-line"},t.comment?.content)))},{title:"是否已读",dataIndex:"isRead",render:e=>a.createElement(p.Z,{color:"green"},0===e.isRead?"已读":"未读")},{title:"日期",dataIndex:"createTime",width:"140",sorter:(e,t)=>new Date(e.createTime).getTime()-new Date(t.createTime).getTime(),render:e=>f()(e).format("yyyy-MM-DD HH:mm")}],dataSource:n,pagination:{pageSize:6,total:u,onChange:e=>{(e=>{m(g.userMsg.userId,6*(e-1),6).then((e=>{200===e.status&&(o(e.data.list),d(e.data.count))}))})(e)}}}))};var b=(0,a.memo)(g)}}]);
//# sourceMappingURL=7933.7a85fe00.chunk.js.map